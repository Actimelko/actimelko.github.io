!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="dist/",r(r.s=0)}([function(t,e,r){"use strict";var n=r(1);r(3),new n.DrumMachine({elem:document.getElementById("drum-machine")}).render()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrumMachine=o;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(2));function o(t){var e=this._elem=t.elem;this._isActive=!0,this._instrument=null,this._volume=e.querySelector(".drum__controls__volume input").value,this._info=this._printInfo(),e.addEventListener("change",this._changeInstrument.bind(this)),e.addEventListener("click",this._turn.bind(this)),e.addEventListener("change",this._changeVolume.bind(this)),e.addEventListener("click",this._playClick.bind(this)),document.addEventListener("keydown",this._playBtn.bind(this))}o.prototype._printInfo=function(){var t=this;function e(r){clearTimeout(e.infoTimer);var n=t._elem.querySelector(".drum__controls__output__display");n.innerHTML=r,e.infoTimer=setTimeout(function(){n.innerHTML="..."},1e3)}return e.infoTimer=null,e},o.prototype._changeVolume=function(t){var e=t.target;if(e.closest(".drum__controls__volume__input")){this._volume=e.value,this._info("Volume: "+Math.round(100*this._volume)+"%");for(var r=document.querySelectorAll(".drum__pad__button audio"),n=0;n<r.length;n++){r[n].volume=+this._volume}}},o.prototype._activeAudioContainer=function(t){t.classList.add("drum__pad__button_active"),setTimeout(function(){t.classList.remove("drum__pad__button_active")},10)},o.prototype._playAudio=function(t,e){if(t){var r=this._elem.querySelector("#"+t+" audio");r&&(r.play(),this._activeAudioContainer(r.parentNode),this._info(r.getAttribute("data-info")))}else e&&(e.play(),this._activeAudioContainer(e.parentNode),this._info(e.getAttribute("data-info")))},o.prototype._playClick=function(t){var e=t.target;if(e.closest(".drum__pad__button")&&this._isActive){var r=e.closest(".drum__pad__button").querySelector("audio");this._playAudio(null,r)}},o.prototype._playBtn=function(t){if(this._isActive){var e=String.fromCharCode(t.keyCode);this._playAudio(e)}},o.prototype._activeButton=function(t){t.classList.add(".drum__pad__button_active")},o.prototype._changeInstrument=function(t){var e=t.target;e.closest('select[name="instruments"]')&&(this._instrument=e.value,this._changeAudioSrc(),this._info("Instr: "+this._instrument.toUpperCase()))},o.prototype._turnOn=function(t){if(!this._isActive){var e=this._elem.querySelector(".drum__controls__turn__off");this._isActive=!this._isActive,t.classList.add("drum__controls__turn__on_active"),e.classList.remove("drum__controls__turn__off_active")}},o.prototype._turnOff=function(t){if(this._isActive){var e=this._elem.querySelector(".drum__controls__turn__on");this._isActive=!this._isActive,t.classList.add("drum__controls__turn__off_active"),e.classList.remove("drum__controls__turn__on_active")}},o.prototype._turn=function(t){var e=t.target;e.closest(".drum__controls__turn__on")&&(this._turnOn(e),this._info("Turn ON")),e.closest(".drum__controls__turn__off")&&(this._turnOff(e),this._info("Turn OFF"))},o.prototype._changeAudioSrc=function(){for(var t=n.default[this._instrument],e=document.querySelectorAll(".drum__pad__button audio"),r=0;r<e.length;r++){var o=e[r];o.src=t[r].src;var s=o.src.slice(o.src.lastIndexOf("/")+1,o.src.lastIndexOf("."));o.setAttribute("data-info",s)}},o.prototype._renderOptions=function(){var t=Object.keys(n.default),e=document.querySelector(".drum__controls__instr select");t.forEach(function(t,r){var n=new Option(t,t,0==r);e.append(n)})},o.prototype.render=function(){var t=this;this._renderOptions(),this._instrument=this._elem.querySelector('select[name="instruments"]').value;var e=n.default[this._instrument],r=this._elem.querySelector(".drum__pad");e.forEach(function(e){var n=document.createElement("div");n.classList.add("drum__pad__button"),n.id=e.id,n.innerHTML=e.id;var o=document.createElement("audio");o.src=e.src;var s=o.src.slice(o.src.lastIndexOf("/")+1,o.src.lastIndexOf("."));o.setAttribute("data-info",s),o.volume=+t._volume,n.append(o),r.append(n)})}},function(t){t.exports={heater:[{id:"Q",src:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{id:"W",src:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{id:"E",src:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{id:"A",src:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{id:"S",src:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{id:"D",src:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{id:"Z",src:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{id:"X",src:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{id:"C",src:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"}],piano:[{id:"Q",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{id:"W",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{id:"E",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{id:"A",src:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{id:"S",src:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{id:"D",src:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{id:"Z",src:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{id:"X",src:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{id:"C",src:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}]}},function(t,e){}]);